{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","../../../../app/insights/page.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","/* app/insights/new/page.tsx */\n\"use client\";\n\nimport { useRouter } from \"next/navigation\";\nimport { useState } from \"react\";\nimport { createInsight, getSessionUser } from \"@/lib/store\";\n\nexport default function NewInsightPage() {\n  const router = useRouter();\n\n  const [title, setTitle] = useState(\"\");\n  const [body, setBody] = useState(\"\");\n  const [submitting, setSubmitting] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const user = getSessionUser();\n\n  function onSubmit() {\n    if (!user) {\n      alert(\"Login required to post an insight.\");\n      router.push(\"/auth/login\");\n      return;\n    }\n\n    if (!title.trim()) {\n      setError(\"Title is required.\");\n      return;\n    }\n\n    if (!body.trim()) {\n      setError(\"Content cannot be empty.\");\n      return;\n    }\n\n    setSubmitting(true);\n    setError(null);\n\n    const res = createInsight({\n      title,\n      body,\n    });\n\n    if (!res.ok) {\n      setSubmitting(false);\n      setError(res.error ?? \"Failed to create insight.\");\n      return;\n    }\n\n    // âœ… Step C: go back home for now\n    router.push(\"/\");\n  }\n\n  function onCancel() {\n    router.push(\"/\");\n  }\n\n  return (\n    <main className=\"bpfx-main\">\n      <div className=\"bpfx-wrap\">\n        <div\n          className=\"bpfx-panel\"\n          style={{ maxWidth: 720, margin: \"80px auto\" }}\n        >\n          <h2 className=\"bpfx-panelTitle\">New Insight</h2>\n          <p className=\"bpfx-panelText\">\n            Write a clear judgment. You can bind it to a league later.\n          </p>\n\n          <div className=\"bpfx-stack\" style={{ marginTop: 16 }}>\n            <input\n              className=\"bpfx-input\"\n              placeholder=\"Title\"\n              value={title}\n              onChange={(e) => setTitle(e.target.value)}\n              disabled={submitting}\n            />\n\n            <textarea\n              className=\"bpfx-textarea\"\n              placeholder=\"Write your judgment...\"\n              rows={6}\n              value={body}\n              onChange={(e) => setBody(e.target.value)}\n              disabled={submitting}\n            />\n          </div>\n\n          {error && (\n            <div style={{ color: \"#d33\", marginTop: 12 }}>{error}</div>\n          )}\n\n          <div\n            className=\"bpfx-row\"\n            style={{ justifyContent: \"flex-end\", marginTop: 24 }}\n          >\n            <button\n              className=\"bpfx-btn bpfx-btnGhost\"\n              onClick={onCancel}\n              disabled={submitting}\n            >\n              Cancel\n            </button>\n            <button\n              className=\"bpfx-btn bpfx-btnPrimary\"\n              onClick={onSubmit}\n              disabled={submitting}\n            >\n              {submitting ? \"Posting...\" : \"Post\"}\n            </button>\n          </div>\n        </div>\n      </div>\n    </main>\n  );\n}\n"],"names":["module","exports","require","vendored","HooksClientContext","ServerInsertedHtml","AppRouterContext"],"mappings":"6CAAAA,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACC,kBAAkB,+BCFzCJ,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACE,kBAAkB,iiBCFzCL,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACG,gBAAgB,0CCCvC,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEe,SAAS,IACtB,IAAM,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAElB,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC7B,CAAC,EAAM,EAAQ,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC3B,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACvC,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MAE5C,EAAO,CAAA,EAAA,EAAA,cAAA,AAAc,IAyC3B,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,qBACd,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CACC,UAAU,aACV,MAAO,CAAE,SAAU,IAAK,OAAQ,WAAY,YAE5C,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,2BAAkB,gBAChC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,0BAAiB,+DAI9B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,aAAa,MAAO,CAAE,UAAW,EAAG,YACjD,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,UAAU,aACV,YAAY,QACZ,MAAO,EACP,SAAU,AAAC,GAAM,EAAS,EAAE,MAAM,CAAC,KAAK,EACxC,SAAU,IAGZ,CAAA,EAAA,EAAA,GAAA,EAAC,WAAA,CACC,UAAU,gBACV,YAAY,yBACZ,KAAM,EACN,MAAO,EACP,SAAU,AAAC,GAAM,EAAQ,EAAE,MAAM,CAAC,KAAK,EACvC,SAAU,OAIb,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,MAAO,CAAE,MAAO,OAAQ,UAAW,EAAG,WAAI,IAGjD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CACC,UAAU,WACV,MAAO,CAAE,eAAgB,WAAY,UAAW,EAAG,YAEnD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,UAAU,yBACV,QA7CZ,CA6CqB,QA7CZ,EACP,EAAO,IAAI,CAAC,IACd,EA4CY,SAAU,WACX,WAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,UAAU,2BACV,QAvFZ,CAuFqB,QAvFZ,EACP,GAAI,CAAC,EAAM,CACT,MAAM,sCACN,EAAO,IAAI,CAAC,eACZ,MACF,CAEA,GAAI,CAAC,EAAM,IAAI,GAAI,YACjB,EAAS,sBAIX,GAAI,CAAC,EAAK,IAAI,GAAI,YAChB,EAAS,4BAIX,GAAc,GACd,EAAS,MAET,IAAM,EAAM,CAAA,EAAA,EAAA,aAAa,AAAb,EAAc,OACxB,OACA,CACF,GAEA,GAAI,CAAC,EAAI,EAAE,CAAE,CACX,GAAc,GACd,EAAS,EAAI,KAAK,EAAI,6BACtB,MACF,CAGA,EAAO,IAAI,CAAC,IACd,EAuDY,SAAU,WAET,EAAa,aAAe,kBAO3C","ignoreList":[0,1,2]}